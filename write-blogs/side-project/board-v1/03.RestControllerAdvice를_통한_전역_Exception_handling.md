>ì´ì „ê¸€ [[Spring] ê³µí†µ response DTO ë§Œë“¤ê¸°](https://velog.io/@jomminii/spring-common-response-dto)
> 
>ë‹¤ìŒê¸€ [ğŸ”— [Spring] ServiceException ê¸°ëŠ¥ ê°œë°œ](https://velog.io/@jomminii/spring-service-exception)


ì´ë²ˆì—ëŠ” ì „ì—­ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.
ì „ì—­ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œ `@RestControllerADvice` ë¥¼ ì ìš©í•œ ì—ëŸ¬ì²˜ë¦¬ìš© í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ ë§Œë“¤ê² ìŠµë‹ˆë‹¤.

```java
@RestControllerAdvice
public class ApiExceptionHandler {

    @ExceptionHandler
    public ResultDTO<Object> handleException(Exception exception) {
        return ResultDTO.ofFail(exception.getMessage());
    }
}

```

`@RestControllerAdvice`ëŠ” `@ControllerAdvice`ì™€ `@ResponseBody`ë¥¼ ì¡°í•©í•´ì„œ ë§Œë“  í¸ì˜ì„± annotation ì¸ë°ìš”, ê¸°ë³¸ì ìœ¼ë¡œ ì „ì—­ì˜ `@Controller` í´ë˜ìŠ¤ë“¤ì— ì ìš©ë˜ì–´ `@ExceptionHandler`ì™€ ê°™ì´ ê³µí†µì ìœ¼ë¡œ ì²˜ë¦¬í•  ë¡œì§ì´ ìˆì„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì „ì—­ì— ì ìš©ë˜ë‚˜ `@RestControllerAdvice(basePackages = xx)` ë“±ìœ¼ë¡œ ê°’ì„ ì§€ì •í•´ì£¼ë©´ íŠ¹ì • ë²”ìœ„ì— ì ìš©ì‹œí‚¬ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

[ë¬¸ì„œ](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html)ë¥¼ ì°¸ê³ í•´ë³´ì„¸ìš”!


`@ExceptionHandler`ì˜ ê²½ìš° ê°ê°ì˜ Controller ë‚´ì— ìœ„ì¹˜ì‹œì¼œ íŠ¹ì • Controller ì—ë§Œ ì ìš©ë˜ê²Œë„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìš”ëŸ° ì‹ìœ¼ë¡œìš”!
```java
@RestController
@RequestMapping("/api/v1/boards")
public class BoardRestController {

    @GetMapping("")
    public ResultDTO<Object> exceptionTest() throws Exception {
        throw new Exception("error test");
//        return ResultDTO.ofFail("ì‹¤íŒ¨!!");
    }

    @ExceptionHandler(Exception.class)
    public ResultDTO<Object> handlerException(Exception exception) {
        return ResultDTO.ofFail("ì´ê²Œ ë¨¼ì €ë‹¤!");
    }

```

ì´ë ‡ê²Œ ê°ê°ì˜ controller ì•ˆì— `@ExceptionHandler`ë¥¼ ìœ„ì¹˜ì‹œí‚¤ë©´ `@ControllerAdvice`ë¥¼ í†µí•´ ë§Œë“  ê²ƒë³´ë‹¤ ìš°ì„ ìˆœìœ„ë¡œ ì ìš©ë˜ì–´ exception ì²˜ë¦¬ë¥¼ íŠ¹í™”ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.



### ì°¸ê³ 
[controller advice - spring doc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html)